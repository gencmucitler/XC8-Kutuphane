/**********************************************************
*  Yazar 	: sigmoid
*  Web 		: http://www.gencmucitler.com
*  Ýlk		: Ekim 2017
*  Düzenleme: Yok 
*  Versiyon : 0.1
*  Açýklama : Nokia 5110 Kütüphanesi (pcd8544)
***********************************************************/

#include "nokia5110.h"
char lcd_kontrast=0xB1; //lcd kontrastý B1 ile BF arasýnda ayarlayýnýzç

/*******************************************************************************
 *  LCD ekran için karakter tanýmlamalarý. Standart Font                       *
 *******************************************************************************/
const char harftablo[] ={0x00, 0x00, 0x00, 0x00, 0x00, // SPACE  0
                         0x00, 0x00, 0x5F, 0x00, 0x00, // !	1
                         0x00, 0x03, 0x00, 0x03, 0x00, // "	2
                         0x14, 0x3E, 0x14, 0x3E, 0x14, // #	3
                         0x24, 0x2A, 0x7F, 0x2A, 0x12, // $	4
                         0x43, 0x33, 0x08, 0x66, 0x61, // %	5
                         0x36, 0x49, 0x55, 0x22, 0x50, // &	6
                         0x00, 0x05, 0x03, 0x00, 0x00, // '	7
                         0x00, 0x1C, 0x22, 0x41, 0x00, // (	8
                         0x00, 0x41, 0x22, 0x1C, 0x00, // )	9
                         0x14, 0x08, 0x3E, 0x08, 0x14, // *	10
                         0x08, 0x08, 0x3E, 0x08, 0x08, // +	11
                         0x00, 0x50, 0x30, 0x00, 0x00, // ,	12
                         0x08, 0x08, 0x08, 0x08, 0x08, // -	13	
                         0x00, 0x60, 0x60, 0x00, 0x00, // .	14
                         0x20, 0x10, 0x08, 0x04, 0x02, // /	15
                         0x3E, 0x51, 0x49, 0x45, 0x3E, // 0	16
                         0x04, 0x02, 0x7F, 0x00, 0x00, // 1	17
                         0x42, 0x61, 0x51, 0x49, 0x46, // 2	18
                         0x22, 0x41, 0x49, 0x49, 0x36, // 3	19
                         0x18, 0x14, 0x12, 0x7F, 0x10, // 4	20
                         0x27, 0x45, 0x45, 0x45, 0x39, // 5	21
                         0x3E, 0x49, 0x49, 0x49, 0x32, // 6	22
                         0x01, 0x01, 0x71, 0x09, 0x07, // 7	23
                         0x36, 0x49, 0x49, 0x49, 0x36, // 8	24
                         0x26, 0x49, 0x49, 0x49, 0x3E, // 9	25
                         0x00, 0x36, 0x36, 0x00, 0x00, // :	26
                         0x00, 0x56, 0x36, 0x00, 0x00, // ;	27
                         0x08, 0x14, 0x22, 0x41, 0x00, // <	28
                         0x14, 0x14, 0x14, 0x14, 0x14, // =	29
                         0x00, 0x41, 0x22, 0x14, 0x08, // >	30
                         0x02, 0x01, 0x51, 0x09, 0x06, // ?	31
                         0x3E, 0x41, 0x59, 0x55, 0x5E, // @	32
                         0x7E, 0x09, 0x09, 0x09, 0x7E, // A	33
                         0x7F, 0x49, 0x49, 0x49, 0x36, // B	34
                         0x3E, 0x41, 0x41, 0x41, 0x22, // C	35
                         0x7F, 0x41, 0x41, 0x41, 0x3E, // D	36
                         0x7F, 0x49, 0x49, 0x49, 0x41, // E	37
                         0x7F, 0x09, 0x09, 0x09, 0x01, // F	38
                         0x3E, 0x41, 0x41, 0x49, 0x3A, // G	39
                         0x7F, 0x08, 0x08, 0x08, 0x7F, // H	40
                         0x00, 0x41, 0x7F, 0x41, 0x00, // I	41
                         0x30, 0x40, 0x40, 0x40, 0x3F, // J	42
                         0x7F, 0x08, 0x14, 0x22, 0x41, // K	43
                         0x7F, 0x40, 0x40, 0x40, 0x40, // L	44
                         0x7F, 0x02, 0x0C, 0x02, 0x7F, // M	45
                         0x7F, 0x02, 0x04, 0x08, 0x7F, // N	46
                         0x3E, 0x41, 0x41, 0x41, 0x3E, // O	47
                         0x7F, 0x09, 0x09, 0x09, 0x06, // P	48
                         0x1E, 0x21, 0x21, 0x21, 0x5E, // Q	49
                         0x7F, 0x09, 0x09, 0x09, 0x76,// R	50
                         0x26, 0x49, 0x49, 0x49, 0x32, // S	51
                         0x01, 0x01, 0x7F, 0x01, 0x01, // T	52
                         0x3F, 0x40, 0x40, 0x40, 0x3F, // U	53
                         0x1F, 0x20, 0x40, 0x20, 0x1F, // V	54
                         0x7F, 0x20, 0x10, 0x20, 0x7F, // W	55
                         0x41, 0x22, 0x1C, 0x22, 0x41, // X	56
                         0x07, 0x08, 0x70, 0x08, 0x07, // Y	57
                         0x61, 0x51, 0x49, 0x45, 0x43, // Z	58
                         0x00, 0x7F, 0x41, 0x00, 0x00, // [	59
                         0x02, 0x04, 0x08, 0x10, 0x20, // \	60
                         0x00, 0x00, 0x41, 0x7F, 0x00, // ]	61
                         0x04, 0x02, 0x01, 0x02, 0x04, // ^	62
                         0x40, 0x40, 0x40, 0x40, 0x40, // _	63
                         0x00, 0x01, 0x02, 0x04, 0x00, // `	64
                         0x20, 0x54, 0x54, 0x54, 0x78, // a	65
                         0x7F, 0x44, 0x44, 0x44, 0x38, // b	66
                         0x38, 0x44, 0x44, 0x44, 0x44, // c	67
                         0x38, 0x44, 0x44, 0x44, 0x7F, // d	68
                         0x38, 0x54, 0x54, 0x54, 0x18, // e	69
                         0x04, 0x04, 0x7E, 0x05, 0x05, // f	70
                         0x08, 0x54, 0x54, 0x54, 0x3C, // g	71
                         0x7F, 0x08, 0x04, 0x04, 0x78, // h	72
                         0x00, 0x44, 0x7D, 0x40, 0x00, // i	73
                         0x20, 0x40, 0x44, 0x3D, 0x00, // j	74
                         0x7F, 0x10, 0x28, 0x44, 0x00, // k	75
                         0x00, 0x41, 0x7F, 0x40, 0x00, // l	76
                         0x7C, 0x04, 0x78, 0x04, 0x78, // m	77
                         0x7C, 0x08, 0x04, 0x04, 0x78, // n	78
                         0x38, 0x44, 0x44, 0x44, 0x38, // o	79
                         0x7C, 0x14, 0x14, 0x14, 0x08, // p	80
                         0x08, 0x14, 0x14, 0x14, 0x7C, // q	81
                         0x00, 0x7C, 0x08, 0x04, 0x04, // r	82
                         0x48, 0x54, 0x54, 0x54, 0x20, // s	83
                         0x04, 0x04, 0x3F, 0x44, 0x44, // t	84
                         0x3C, 0x40, 0x40, 0x20, 0x7C, // u	85
                         0x1C, 0x20, 0x40, 0x20, 0x1C, // v	86
                         0x3C, 0x40, 0x30, 0x40, 0x3C, // w	87
                         0x44, 0x28, 0x10, 0x28, 0x44, // x	88
                         0x0C, 0x50, 0x50, 0x50, 0x3C, // y	89
                         0x44, 0x64, 0x54, 0x4C, 0x44, // z	90
                         0x00, 0x08, 0x36, 0x41, 0x41, // {	91
                         0x00, 0x00, 0x7F, 0x00, 0x00, // |	92
                         0x41, 0x41, 0x36, 0x08, 0x00, // }	93
                         0x02, 0x01, 0x02, 0x04, 0x02, // ~	94
		     0x1E, 0x21, 0x61, 0x21, 0x12, // Ç 199	95      //türkçe karakterler
			 0x3D, 0x42, 0x52, 0x52, 0x75, // Ð 208	96
			 0x3C, 0x43, 0x42, 0x43, 0x3C, // Ö 214	97
			 0x3C, 0x41, 0x40, 0x41, 0x3C, // Ü 220	98
			 0x00, 0x42, 0x7F, 0x42, 0x00, // Ý 221	99
			 0x46, 0x49, 0x69, 0x49, 0x31, // Þ 222	100
			 0x1C, 0x22, 0x62, 0x22, 0x10, // ç 231	101
			 0x0D, 0x52, 0x52, 0x52, 0x3D, // ð 240	102
			 0x38, 0x46, 0x44, 0x46, 0x38, // ö 246	103
			 0x3C, 0x41, 0x40, 0x21, 0x7C, // ü 252	104
			 0x00, 0x44, 0x7C, 0x40, 0x00, // ý 253	105
			 0x24, 0x2A, 0x6A, 0x2A, 0x10};// þ 254	106

const char  rakamtablo[]  =  //12*16
{
0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x01, 0x00, 0x00,   // -
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00,   // .
0x00, 0x00, 0x02, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x02, 0x00, 0x00, 0x00, 0x00, 0x81, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x81, 0x00, 0x00,   // /
0x00, 0xfc, 0x7a, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x7a, 0xfc, 0x00, 0x00, 0x7e, 0xbc, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xbc, 0x7e, 0x00,   // 0
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x7e, 0x00,   // 1
0x00, 0x00, 0x02, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x7a, 0xfc, 0x00, 0x00, 0x7e, 0xbd, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x81, 0x00, 0x00,   // 2
0x00, 0x00, 0x02, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x7a, 0xfc, 0x00, 0x00, 0x00, 0x81, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xbd, 0x7e, 0x00,   // 3
0x00, 0xfc, 0x78, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x78, 0xfc, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x3d, 0x7e, 0x00,   // 4
0x00, 0xfc, 0x7a, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x02, 0x00, 0x00, 0x00, 0x00, 0x81, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xbd, 0x7e, 0x00,   // 5
0x00, 0xfc, 0x7a, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x02, 0x00, 0x00, 0x00, 0x7e, 0xbd, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xbd, 0x7e, 0x00,   // 6
0x00, 0x00, 0x02, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x7a, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x7e, 0x00,   // 7
0x00, 0xfc, 0x7a, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x7a, 0xfc, 0x00, 0x00, 0x7e, 0xbd, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xbd, 0x7e, 0x00,   // 8
0x00, 0xfc, 0x7a, 0x86, 0x86, 0x86, 0x86, 0x86, 0x86, 0x7a, 0xfc, 0x00, 0x00, 0x00, 0x81, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xbd, 0x7e, 0x00   // 9
};

const char  rakamtablo2[]=  //14*24
{
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // -
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0xe0, 0xe0, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00,   // .
0x00, 0x00, 0x02, 0x06, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x06, 0x02, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xc0, 0x80, 0x00, 0x00,   // /
0x00, 0xfc, 0xfa, 0xf6, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0xef, 0xc7, 0x83, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x83, 0xc7, 0xef, 0x00, 0x00, 0x7f, 0xbf, 0xdf, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00,   // 0
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xf8, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x83, 0xc7, 0xef, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x3f, 0x7f, 0x00,   // 1
0x00, 0x00, 0x02, 0x06, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0xe0, 0xd0, 0xb8, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x3b, 0x17, 0x0f, 0x00, 0x00, 0x7f, 0xbf, 0xdf, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xc0, 0x80, 0x00, 0x00,   // 2
0x00, 0x00, 0x02, 0x06, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0x00, 0x10, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xbb, 0xd7, 0xef, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00,   // 3
0x00, 0xfc, 0xf8, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xf8, 0xfc, 0x00, 0x00, 0x0f, 0x17, 0x3b, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xbb, 0xd7, 0xef, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x3f, 0x7f, 0x00,   // 4
0x00, 0xfc, 0xfa, 0xf6, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x06, 0x02, 0x00, 0x00, 0x00, 0x0f, 0x17, 0x3b, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xb8, 0xd0, 0xe0, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00,   // 5
0x00, 0xfc, 0xfa, 0xf6, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x06, 0x02, 0x00, 0x00, 0x00, 0xef, 0xd7, 0xbb, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xb8, 0xd0, 0xe0, 0x00, 0x00, 0x7f, 0xbf, 0xdf, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00,   // 6
0x00, 0x00, 0x02, 0x06, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x83, 0xc7, 0xef, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x3f, 0x7f, 0x00,   // 7
0x00, 0xfc, 0xfa, 0xf6, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0xef, 0xd7, 0xbb, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xbb, 0xd7, 0xef, 0x00, 0x00, 0x7f, 0xbf, 0xdf, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00,   // 8
0x00, 0xfc, 0xfa, 0xf6, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0x0e, 0xf6, 0xfa, 0xfc, 0x00, 0x00, 0x0f, 0x17, 0x3b, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0xbb, 0xd7, 0xef, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xdf, 0xbf, 0x7f, 0x00   // 9
};

/*******************************************************************************
 *  LCD ekraný çalýþtýrýr. Ýlk önce bu fonksiyon çalýþtýrýlmalýdýr.             *
 *******************************************************************************/
void lcd_baslat(void) {    
    LCD_CE_TRIS = 0;    //çýkýþ olarak tanýmla
    LCD_CLK_TRIS = 0;
    LCD_DATA_TRIS = 0;
    LCD_DC_TRIS = 0;
    LCD_RST_TRIS = 0;
    
    LCD_DATA=0;
    LCD_CLK=0;
    LCD_DC=0;
    
    //Lcd ekraný resetle
    LCD_RST=0;    
    LCD_RST=1;
    
    LCD_DC=0;   //KOMUT setini seç
    lcd_veriyaz(0x21);              //chip aktif, yatay adresleme, uzatýlmýþ komut seti
    lcd_veriyaz(lcd_kontrast);      //LCD kontrastý düþük olarak ayarla.
    lcd_veriyaz(0x04);              //Temp coefficent ayarý
    lcd_veriyaz(0x14);              //LCD bias mode 1:48: Try 0x13 or 0x14
    lcd_veriyaz(0x20);              //temel komut seti
    lcd_veriyaz(0x0C);              //normal mode aktif     
}

/*******************************************************************************
 * Ýstenilen pozisyona gider.                                                   *
 * Örnek: lcd_git(2,5);                                                         *
 *******************************************************************************/
void lcd_git(char satir, char sutun)
{
    LCD_DC=0;
    lcd_veriyaz(0x40 | satir);
    lcd_veriyaz(0x80 | (sutun*6));
}

/*******************************************************************************
 * Ýstenilen poziyonda ekrana yazý yazar.                                       *
 * Örnek : lcd_mesajyaz(1,4,"Deneme");                                          *
 *******************************************************************************/
void lcd_mesajyaz(char satir, char sutun, const char *mesaj)
{
    lcd_git(satir, sutun);
    do {
        lcd_harfyaz(*mesaj++);
    } while (*mesaj);
}

/*******************************************************************************
 * Lcd ekrana en son kaldýðý pozisyondan itibaren yazý yazar.                   *
 * Örnek : lcd_mesajyaz_cp("deneme");                                           *
 *******************************************************************************/
void lcd_mesajyaz_cp(const char *mesaj) {
    do {
        lcd_harfyaz(*mesaj++);
    } while (*mesaj);
}

/*******************************************************************************
 * Lcd ekrana tek bir harf yazar.                                               *
 * Örnek : lcd_harfyaz('A');                                                    *
 *******************************************************************************/
void lcd_harfyaz(char harf) 
{
    unsigned int adres;
    LCD_DC=1;   //veri modu
   
    switch(harf)
	{
		case 'Ç':   //türkçe karakterler için adres bilgisini yeniden tanýmla
			adres=475;
			break;
		case 'Ð':
			adres=480;
			break;
		case 'Ö':
			adres=485;
			break;
		case 'Ü':
			adres=490;
			break;
		case 'Ý':
			adres=495;
			break;			
		case 'Þ':
			adres=500;
			break;
		case 'ç':
			adres=505;
			break;
		case 'ð':
			adres=510;
			break;
		case 'ö':
			adres=515;
			break;
		case 'ü':
			adres=520;		
			break;	
		case 'ý':
			adres=525;
			break;					
		case 'þ':
			adres=530;
			break;
		default:
			adres=(harf-' ')*5;   //ASCII Tablosuna göre space karakteri 
                                  //tablonun ilk karakteri
			break;			
	}	

	lcd_veriyaz(harftablo[adres++]);
	lcd_veriyaz(harftablo[adres++]);
	lcd_veriyaz(harftablo[adres++]);
	lcd_veriyaz(harftablo[adres++]);
	lcd_veriyaz(harftablo[adres++]);
    lcd_veriyaz( 0x00); //boþluk ekle
}

/*******************************************************************************
 * Lcd ekraný tamamen siler                                                    *
 *******************************************************************************/
void lcd_sil()
{
    int i;
    lcd_git(0,0);
 
    LCD_DC=1;
    for(i=0;i<504;i++)
    {
        lcd_veriyaz(0x00);  //tüm ekraný boþlukla doldur.
    }
   
    lcd_git(0,0);
}

/*******************************************************************************
 * Lcd ekranda istenilen satýrý siler.                                         *
 *******************************************************************************/
void lcd_satirsil(char satir)
{
     char i;
    lcd_git(satir,0);
 
    LCD_DC=1;
    for(i=0;i<84;i++)
    {
        lcd_veriyaz(0x00);  //tüm ekraný boþlukla doldur.
    }
   
    lcd_git(satir,0);   
}

/*******************************************************************************
 * Lcd ekran kontrastýný artýrýr     .                                         *
 *******************************************************************************/
void lcd_kontrast_artir(void)
{
//  b1 ile bf arasýnda deðiþsin.
//    LCD_DC=0;   //KOMUT setini seç
//    lcd_veriyaz(0x21);              //chip aktif, yatay adresleme, uzatýlmýþ komut seti
//    lcd_veriyaz(lcd_kontrast++);
    lcd_veriyaz(0x20);              //temel komut seti
}

/*******************************************************************************
 * Lcd ekran kontrastýný azaltýr                                               *
 *******************************************************************************/
void lcd_kontrast_azalt(void)
{
//    LCD_DC=0;   //KOMUT setini seç
//    lcd_veriyaz(0x21);              //chip aktif, yatay adresleme, uzatýlmýþ komut seti
//    lcd_veriyaz(lcd_kontrast--);
 //   lcd_veriyaz(0x20);              //temel komut seti
}

/*******************************************************************************
 * Lcd ekrandaki grafikleri ters gösterir.                                     *
 *******************************************************************************/
void lcd_ekrani_tersle(void)
{
    LCD_DC=0;
    lcd_veriyaz(0x0D);              //inverse video mode aktif
    
}

/*******************************************************************************
 * Lcd ekran normal mode çalýþtýr                                              *
 *******************************************************************************/
void lcd_normalmode(void)
{
    LCD_DC=0;
    lcd_veriyaz(0x0C);              //normal video mode aktif
}



/*******************************************************************************
 * Lcd ekrana 1 bytelýk veriyi göderir.                                        *
 *******************************************************************************/
void lcd_veriyaz(char veri)
{
    char i;
    
    LCD_CE=0;   //lcd yi seç
    
    for(i=0;i<8;i++)
    {
        veri=veri<<1;   //ilk önce MSB gönderilir.
        LCD_DATA=CARRY;
        LCD_CLK=1;
        __delay_us(1);
        LCD_CLK=0;
    }
    
    LCD_CE=1;
}

/*******************************************************************************
 * Lcd ekrana resim çizer.                                                      *
 *******************************************************************************/
void lcd_resimciz(char satir,char sutun,const char *resim)
{
    
}

/*******************************************************************************
 * Lcd ekrana dijital sayý yazar.                                              *
 *******************************************************************************/
void lcd_sayiyaz(char satir, char sutun,char* sayi,char font)
{
    char * sayi_t;
    char siramax,sira,i;
    char rakam;
    unsigned int adres;
    
    if(font==NORMAL)
        siramax=2; //dikeyde 2 sýra
    else
        siramax=3; //dikeyde 3 sýra

    for(sira=0;sira<siramax;sira++)
    {
        
        lcd_git(satir+sira,sutun);
        sayi_t=sayi;

        do {
            
            LCD_DC = 1; //veri modu  
            rakam=*sayi_t++;
            
            if (font == NORMAL) 
            {
                if (sira == 0)
                    adres = (rakam - '-')*24;
                else
                    adres = (rakam - '-')*24 + 12;

                for (i = 0; i < 12; i++) {
                    lcd_veriyaz(rakamtablo[adres++]);
                }
            }
            else
            {                
                if (sira == 0)
                    adres = (rakam - '-')*42;
                else if (sira == 1)
                    adres = (rakam - '-')*42 + 14;
                else
                    adres = (rakam - '-')*42 + 28;

                for (i = 0; i < 14; i++) {
                    lcd_veriyaz(rakamtablo2[adres++]);
                }
            }


        } while (*sayi_t);
    }    

}
    

/*******************************************************************************
 * printf fonksiyonu için                                                      *
 *******************************************************************************/
#ifdef lcdprintf_aktif
void putch(unsigned char byte) {
    lcd_harfyaz(byte);
}
#endif